<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>mtx.C Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.1.5 on Thu Sep 28 15:37:59 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>mtx.C</h1><a href="mtx.C.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*
</font>00002 <font class="comment"> *  @(#)mtx.c 1.5  09/07/90
</font>00003 <font class="comment"> */</font>
00004 
00005 <font class="preprocessor">#include &lt;sealib.h&gt;</font>
00006 <font class="preprocessor">#include "<a class="code" href="sea.h.html">sea.h</a>"</font>
00007 
00008 
00009 <font class="comment">/* this one returns a pointer to a static identity matrix A and a null vector B */</font>
<a name="l00010"></a><a class="code" href="mtx.C.html#a0">00010</a> <font class="keywordtype">short</font> *<a class="code" href="im.h.html#a2">mtxidentity</a>(<font class="keywordtype">void</font>)<font class="keyword">
</font>00011 <font class="keyword"></font>{
00012 <font class="keyword">static</font> <font class="keywordtype">short</font> identity[6] = {0,0,0,0,0,0};
00013 <font class="keywordflow">if</font> (identity[A11]==0)
00014    { <font class="comment">/* cannot initialize compile time without knowing symbolic constants (write time) */</font>
00015    identity[A11]=identity[A22]=1;
00016    identity[A12]=identity[A21]=0;
00017    identity[B1]=identity[B2]=0;
00018    }
00019 <font class="keywordflow">return</font>(identity);
00020 }
00021 
00022 
00023 <font class="comment">/* Translate the operation mtx[] in the space (x,y) to the equivalent
</font>00024 <font class="comment"> * operation in the space (x',y'), where x'=x+p and y'=y+q. (I.e. we
</font>00025 <font class="comment"> * move the origin from (0,0) to coord (-p,-q)).
</font>00026 <font class="comment"> * Suppose operation is Av + b then new operation is Av' - Ar + r + b,
</font>00027 <font class="comment"> * where v=(x,y) and r=(p,q).
</font>00028 <font class="comment"> */</font>
<a name="l00029"></a><a class="code" href="mtx.C.html#a1">00029</a> <font class="keywordtype">void</font> <a class="code" href="mtx.C.html#a1">mtxtranslate</a>(<font class="keywordtype">short</font> *mtx,<font class="keywordtype">int</font> p,<font class="keywordtype">int</font> q)<font class="keyword">
</font>00030 <font class="keyword"></font>{
00031 mtx[B1]+=(p-mtx[A11]*p-mtx[A12]*q);
00032 mtx[B2]+=(q-mtx[A21]*p-mtx[A22]*q);
00033 }
00034 
00035 
00036 <font class="comment">/* copy scrmtx to dstmtx */</font>
<a name="l00037"></a><a class="code" href="mtx.C.html#a2">00037</a> <font class="keywordtype">void</font> <a class="code" href="mtx.C.html#a2">mtxcopy</a>(<font class="keywordtype">short</font> *dstmtx,<font class="keywordtype">short</font> *srcmtx)<font class="keyword">
</font>00038 <font class="keyword"></font>{
00039 dstmtx[A11]=srcmtx[A11];
00040 dstmtx[A12]=srcmtx[A12];
00041 dstmtx[A21]=srcmtx[A21];
00042 dstmtx[A22]=srcmtx[A22];
00043 dstmtx[B1] =srcmtx[B1];
00044 dstmtx[B2] =srcmtx[B2];
00045 }
00046 
00047 
00048 <font class="comment">/* apply mtx to vector "in" giving vector "out" */</font>
<a name="l00049"></a><a class="code" href="mtx.C.html#a3">00049</a> <font class="keywordtype">void</font> <a class="code" href="mtx.C.html#a3">mtxapply</a>(<font class="keywordtype">int</font> *out,<font class="keywordtype">int</font> *in,<font class="keywordtype">short</font> *mtx)<font class="keyword">
</font>00050 <font class="keyword"></font>{
00051 out[HOR] = mtx[A11]*in[HOR] + mtx[A12]*in[VER] + mtx[B1];
00052 out[VER] = mtx[A21]*in[HOR] + mtx[A22]*in[VER] + mtx[B2];
00053 }
00054 
00055 
<a name="l00056"></a><a class="code" href="mtx.C.html#a4">00056</a> <font class="keywordtype">void</font> <a class="code" href="mtx.C.html#a4">mtxaddvec</a>(<font class="keywordtype">short</font> *mtx,<font class="keywordtype">int</font> p,<font class="keywordtype">int</font> q)<font class="keyword">
</font>00057 <font class="keyword"></font>{
00058 mtx[B1] += p;
00059 mtx[B2] += q;
00060 }
00061 
00062 
00063 <font class="comment">/* apply mtx to a crd[XL,XR,YB,YT] vector */</font>
<a name="l00064"></a><a class="code" href="mtx.C.html#a5">00064</a> <font class="keywordtype">void</font>  <a class="code" href="mtx.C.html#a5">mtxapplytocrd</a>(<font class="keywordtype">short</font> *out,<font class="keywordtype">short</font> *in,<font class="keywordtype">short</font> *mtx)<font class="keyword">
</font>00065 <font class="keyword"></font>{
00066 out[XL] = mtx[A11]*in[XL] + mtx[A12]*in[YB] + mtx[B1];
00067 out[YB] = mtx[A21]*in[XL] + mtx[A22]*in[YB] + mtx[B2];
00068 out[XR] = mtx[A11]*in[XR] + mtx[A12]*in[YT] + mtx[B1];
00069 out[YT] = mtx[A21]*in[XR] + mtx[A22]*in[YT] + mtx[B2];
00070 }
00071 
00072 
00073 <font class="comment">/* Return the 'chained' operation mtxa followed by mtxb. Suppose
</font>00074 <font class="comment"> *                       mtxa="y=Ax+b", mtxb="z=Py+q"
</font>00075 <font class="comment"> * then return the operation
</font>00076 <font class="comment"> *                             "z=PAx+(Pb+q)"
</font>00077 <font class="comment"> */</font>
<a name="l00078"></a><a class="code" href="mtx.C.html#a6">00078</a> <font class="keywordtype">short</font> *<a class="code" href="mtx.C.html#a6">mtxchain</a>(<font class="keywordtype">short</font> *mtxb,<font class="keywordtype">short</font> *mtxa)<font class="keyword">
</font>00079 <font class="keyword"></font>{
00080 <font class="keyword">static</font> <font class="keywordtype">short</font> out[6];
00081 out[A11] = mtxb[A11]*mtxa[A11] + mtxb[A12]*mtxa[A21];
00082 out[A12] = mtxb[A11]*mtxa[A12] + mtxb[A12]*mtxa[A22];
00083 out[A21] = mtxb[A21]*mtxa[A11] + mtxb[A22]*mtxa[A21];
00084 out[A22] = mtxb[A21]*mtxa[A12] + mtxb[A22]*mtxa[A22];
00085 out[B1]  = mtxb[A11]*mtxa[B1]  + mtxb[A12]*mtxa[B2] + mtxb[B1];
00086 out[B2]  = mtxb[A21]*mtxa[B1]  + mtxb[A22]*mtxa[B2] + mtxb[B2];
00087 <font class="keywordflow">return</font>(out);
00088 }
00089 
00090 
</div></pre><hr><address><small>Generated at Thu Sep 28 15:37:59 2000 for madonna by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=110 height=53></a>1.1.5 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-2000</small></address>
</body>
</html>
