<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>basearr.C Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.1.5 on Thu Sep 28 15:37:53 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>basearr.C</h1><a href="basearr.C.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// ***************************************************************************</font>
00002 <font class="comment">// *  BASEARR.C                                                              *</font>
00003 <font class="comment">// *                                                                         *</font>
00004 <font class="comment">// *    @(#)basearr.C 1.8 08/23/96 Delft University of Technology </font>
00005 <font class="comment">// ***************************************************************************</font>
00006 
00007 <font class="preprocessor">#ifndef __IOSTREAM_H
</font>00008 <font class="preprocessor"></font><font class="preprocessor">#include &lt;iostream.h&gt;</font>
00009 <font class="preprocessor">#define __IOSTREAM_H
</font>00010 <font class="preprocessor"></font><font class="preprocessor">#endif
</font>00011 <font class="preprocessor"></font>
00012 <font class="preprocessor">#ifndef __STDLIB_H
</font>00013 <font class="preprocessor"></font><font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00014 <font class="preprocessor">#define __STDLIB_H
</font>00015 <font class="preprocessor"></font><font class="preprocessor">#endif
</font>00016 <font class="preprocessor"></font>
00017 <font class="preprocessor">#ifndef __BASEDEFS_H
</font>00018 <font class="preprocessor"></font><font class="preprocessor">#include &lt;<a class="code" href="basedefs.h.html">basedefs.h</a>&gt;</font>
00019 <font class="preprocessor">#endif
</font>00020 <font class="preprocessor"></font>
00021 <font class="preprocessor">#ifndef __ITEM_H
</font>00022 <font class="preprocessor"></font><font class="preprocessor">#include &lt;<a class="code" href="item.h.html">item.h</a>&gt;</font>
00023 <font class="preprocessor">#endif
</font>00024 <font class="preprocessor"></font>
00025 <font class="preprocessor">#ifndef __BOX_H
</font>00026 <font class="preprocessor"></font><font class="preprocessor">#include &lt;<a class="code" href="box.h.html">box.h</a>&gt;</font>
00027 <font class="preprocessor">#endif
</font>00028 <font class="preprocessor"></font>
00029 <font class="preprocessor">#ifndef __BASEARR_H
</font>00030 <font class="preprocessor"></font><font class="preprocessor">#include &lt;<a class="code" href="basearr.h.html">basearr.h</a>&gt;</font>
00031 <font class="preprocessor">#endif
</font>00032 <font class="preprocessor"></font>
00033 <font class="preprocessor">#include &lt;sea_decl.h&gt;</font> <font class="comment">// for sdfexit()</font>
00034 
00035 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00036"></a><a class="code" href="class_basearray.html#a0">00036</a> <a class="code" href="class_basearray.html#a0">BaseArray::BaseArray</a>( <font class="keywordtype">int</font> anUpper, <font class="keywordtype">int</font> aLower, sizeType aDelta )<font class="keyword">
</font>00037 <font class="keyword"></font>{
00038   bottombound = whereToAdd = aLower;
00039   topbound = anUpper;
00040   delta = aDelta;
00041   theArray = <font class="keyword">new</font> <a class="code" href="class_item.html">Item</a> *[ <a class="code" href="class_basearray.html#a4">arraySize</a>() ];
00042   <font class="keywordflow">for</font>( <font class="keywordtype">int</font> i = 0; i &lt; <a class="code" href="class_basearray.html#a4">arraySize</a>(); i++ )
00043   {
00044     theArray[ i ] = NOTHING;
00045   } 
00046 }
00047 
00048 
00049 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00050"></a><a class="code" href="class_basearray.html#a1">00050</a> <a class="code" href="class_basearray.html#a1">BaseArray::~BaseArray</a>()<font class="keyword">
</font>00051 <font class="keyword"></font>{
00052   <font class="keywordflow">for</font>( <font class="keywordtype">int</font> i = 0; i &lt; <a class="code" href="class_basearray.html#a4">arraySize</a>(); i++ )
00053     <font class="keywordflow">if</font>( theArray[ i ] != NOTHING )
00054       <font class="keyword">delete</font> theArray[ i ];
00055   <font class="keyword">delete</font> theArray;
00056 }
00057 
00058 
00059 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00060"></a><a class="code" href="class_basearray.html#a9">00060</a> <font class="keywordtype">void</font>    <a class="code" href="class_basearray.html#a8">BaseArray::pickOut</a>( <font class="keyword">const</font> <a class="code" href="class_item.html">Item</a>&amp; toPick, <font class="keywordtype">int</font> deleteItemToo )<font class="keyword">
</font>00061 <font class="keyword"></font>{
00062   <font class="keywordflow">if</font> ( toPick == NOITEM )
00063     <font class="keywordflow">return</font>;
00064   
00065   <font class="keywordflow">for</font> ( <font class="keywordtype">int</font> i = 0; i &lt; <a class="code" href="class_basearray.html#a4">arraySize</a>(); i++ )
00066   {
00067     <font class="keywordflow">if</font> ( ( theArray[ i ] != NOTHING ) &amp;&amp; ( *theArray[ i ] == toPick ) )
00068     {
00069       <font class="keywordflow">if</font> ( deleteItemToo )
00070       {
00071     <font class="keyword">delete</font> theArray[ i ];
00072       }
00073       theArray[ i ] = NOTHING;
00074       itemsInBox--;
00075       <font class="keywordflow">break</font>;
00076     }
00077   } 
00078 }
00079 
00080 
00081 
00082 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00083"></a><a class="code" href="class_basearray.html#a8">00083</a> <font class="keywordtype">void</font>    <a class="code" href="class_basearray.html#a8">BaseArray::pickOut</a>( <font class="keywordtype">int</font> atIndex, <font class="keywordtype">int</font> deleteItemToo )<font class="keyword">
</font>00084 <font class="keyword"></font>{
00085   <font class="keywordflow">if</font> ( theArray[ atIndex - bottombound ] != NOTHING )
00086   {
00087     <font class="keywordflow">if</font> ( deleteItemToo )
00088     {
00089       <font class="keyword">delete</font> ( theArray[ atIndex - bottombound ] );
00090     }
00091     theArray[ atIndex - bottombound ] = NOTHING;
00092     itemsInBox--;
00093   } 
00094 }
00095 
00096 
00097 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00098"></a><a class="code" href="class_basearray.html#b1">00098</a> <font class="keywordtype">void</font> <a class="code" href="class_basearray.html#b1">BaseArray::reallocate</a>( sizeType newSize )<font class="keyword">
</font>00099 <font class="keyword"></font>{
00100   <font class="keywordflow">if</font> ( delta == 0 )
00101   {
00102     cerr &lt;&lt; <font class="stringliteral">"Dummy:  Attempting to expand a fixed size array."</font>;
00103     sdfexit(1);
00104   }
00105   
00106   <font class="keywordtype">int</font> i;        
00107   
00108   <font class="keywordflow">if</font> (newSize &lt;= <a class="code" href="class_basearray.html#a4">arraySize</a>())
00109   {
00110      cerr &lt;&lt; <font class="stringliteral">"assertion failed, file basearr.C\n"</font> &lt;&lt; flush;
00111      sdfexit(1);
00112   }
00113 
00114   sizeType adjustedSize = newSize + ( delta - ( newSize % delta ) );
00115   
00116   <a class="code" href="class_item.html">Item</a> **newArray = <font class="keyword">new</font> <a class="code" href="class_item.html">Item</a> *[ adjustedSize ];
00117   <font class="keywordflow">if</font> ( newArray == 0 )
00118   {
00119     cerr &lt;&lt; <font class="stringliteral">"Dummy:  Out of Memory"</font>;
00120     sdfexit(1);
00121   }
00122   
00123   <font class="keywordflow">for</font> ( i = 0; i &lt; <a class="code" href="class_basearray.html#a4">arraySize</a>(); i++ )
00124   {
00125     newArray[i] = theArray[i];
00126   }
00127   <font class="keywordflow">for</font> (; i &lt; adjustedSize; i++ )
00128   {
00129     newArray[i] = NOTHING;
00130   }
00131   
00132   <font class="keyword">delete</font>  theArray;
00133   theArray = newArray;
00134   topbound = adjustedSize + bottombound - 1;
00135   
00136 }
00137 
00138 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00139"></a><a class="code" href="class_basearray.html#a12">00139</a> <font class="keywordtype">int</font> <a class="code" href="class_basearray.html#a12">BaseArray::isEqual</a>( <font class="keyword">const</font> <a class="code" href="class_item.html">Item</a>&amp; testItem )<font class="keyword"> const
</font>00140 <font class="keyword"></font>{
00141   
00142   <font class="keywordflow">if</font> ( bottombound != ((<a class="code" href="class_basearray.html">BaseArray</a>&amp;)testItem).bottombound ||
00143       topbound != ((<a class="code" href="class_basearray.html">BaseArray</a>&amp;)testItem).topbound )
00144   {
00145     <font class="keywordflow">return</font> 0;
00146   }
00147   
00148   <font class="keywordflow">for</font> ( <font class="keywordtype">int</font> i = 0; i &lt; <a class="code" href="class_basearray.html#a4">arraySize</a>(); i++ )
00149   {
00150     <font class="keywordflow">if</font> ( theArray[i] != NOTHING )
00151     {
00152       <font class="keywordflow">if</font> ( ((<a class="code" href="class_basearray.html">BaseArray</a>&amp;)testItem).theArray[i] != NOTHING )
00153       {
00154     <font class="keywordflow">if</font> ( *theArray[i] !=
00155         *( ((<a class="code" href="class_basearray.html">BaseArray</a> &amp;)testItem).theArray[i] ) )
00156     {
00157       <font class="keywordflow">return</font> 0; 
00158     }
00159       }
00160       <font class="keywordflow">else</font> 
00161       {
00162     <font class="keywordflow">return</font> 0;
00163       }
00164     }
00165     <font class="keywordflow">else</font>
00166       <font class="keywordflow">if</font> ( ((<a class="code" href="class_basearray.html">BaseArray</a>&amp;)testItem).theArray[i] != NOTHING )
00167       {
00168     <font class="keywordflow">return</font> 0;  
00169       }
00170   }  
00171   <font class="keywordflow">return</font> 1;
00172 }
00173 
00174 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00175"></a><a class="code" href="class_basearray.html#a5">00175</a> <a class="code" href="class_boxiterator.html">BoxIterator</a>&amp; <a class="code" href="class_basearray.html#a5">BaseArray::initIterator</a>()<font class="keyword"> const
</font>00176 <font class="keyword"></font>{
00177   <font class="keywordflow">return</font> *( (<a class="code" href="class_boxiterator.html">BoxIterator</a> *)<font class="keyword">new</font> <a class="code" href="class_basearray.html#l0">ArrayIterator</a>( *<font class="keyword">this</font> ) );
00178 }
00179 
00180 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00181"></a><a class="code" href="class_basearray.html#a13">00181</a> <font class="keywordtype">void</font> <a class="code" href="class_basearray.html#a13">BaseArray::printContentsOn</a>( ostream&amp; out )<font class="keyword"> const
</font>00182 <font class="keyword"></font>{
00183   <a class="code" href="class_boxiterator.html">BoxIterator</a>&amp; printIterator = <a class="code" href="class_basearray.html#a5">initIterator</a>();
00184   
00185   <a class="code" href="class_box.html#a8">makeHeader</a>( out );
00186   
00187   <font class="keywordflow">while</font>( int(printIterator) != 0 )
00188   {
00189     <a class="code" href="class_item.html">Item</a>&amp; arrayItem = printIterator++;
00190     <font class="keywordflow">if</font> ( arrayItem != NOITEM )
00191     {
00192       arrayItem.<a class="code" href="class_item.html#a8">print</a>( out );
00193       
00194       <font class="keywordflow">if</font> ( int(printIterator) != 0 )
00195       {
00196     <a class="code" href="class_box.html#a9">makeSeparator</a>( out );
00197       }
00198       <font class="keywordflow">else</font> 
00199       {
00200     <font class="keywordflow">break</font>;
00201       }
00202     } 
00203   } 
00204   
00205   <a class="code" href="class_box.html#a10">makeFooter</a>( out );
00206   <font class="keyword">delete</font> (<font class="keywordtype">void</font>*)(&amp;printIterator);
00207 }
00208 
00209 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00210"></a><a class="code" href="class_arrayiterator.html#a1">00210</a> <a class="code" href="class_arrayiterator.html#a1">ArrayIterator::~ArrayIterator</a>()<font class="keyword">
</font>00211 <font class="keyword"></font>{
00212 }
00213 
00214 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00215"></a><a class="code" href="class_arrayiterator.html#a2">00215</a> ArrayIterator::operator int()<font class="keyword">
</font>00216 <font class="keyword"></font>{
00217   <font class="keywordflow">return</font> currentIndex &lt;= beingIterated.topbound;
00218 }
00219 
00220 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00221"></a><a class="code" href="class_arrayiterator.html#a3">00221</a> ArrayIterator::operator Item&amp;()<font class="keyword">
</font>00222 <font class="keyword"></font>{
00223   <font class="keywordflow">if</font> ( currentIndex &lt;= beingIterated.topbound )
00224   {
00225     <font class="keywordflow">return</font> ( (<a class="code" href="class_item.html">Item</a>&amp;)( beingIterated.<a class="code" href="class_basearray.html#b0">itemAt</a>( currentIndex ) ) );
00226   }
00227   <font class="keywordflow">else</font> 
00228   {
00229     <font class="keywordflow">return</font> NOITEM;
00230   }
00231 }
00232 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00233"></a><a class="code" href="class_arrayiterator.html#a4">00233</a> <a class="code" href="class_item.html">Item</a>&amp; <a class="code" href="class_arrayiterator.html#a4">ArrayIterator::get</a>()<font class="keyword">
</font>00234 <font class="keyword"></font>{
00235   <font class="keywordflow">if</font> ( currentIndex &lt;= beingIterated.topbound )
00236   {
00237     <font class="keywordflow">return</font> ( (<a class="code" href="class_item.html">Item</a>&amp;)( beingIterated.<a class="code" href="class_basearray.html#b0">itemAt</a>( currentIndex ) ) );
00238   }
00239   <font class="keywordflow">else</font>
00240   {
00241     <font class="keywordflow">return</font> NOITEM;
00242   }
00243 }
00244 
00245 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00246"></a><a class="code" href="class_arrayiterator.html#a6">00246</a> <font class="keywordtype">void</font> <a class="code" href="class_arrayiterator.html#a6">ArrayIterator::restart</a>()<font class="keyword">
</font>00247 <font class="keyword"></font>{
00248   currentIndex = beingIterated.bottombound;
00249 }
00250 
00251 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00252"></a><a class="code" href="class_arrayiterator.html#a5">00252</a> <a class="code" href="class_item.html">Item</a>&amp; <a class="code" href="class_arrayiterator.html#a5">ArrayIterator::operator ++</a>(<font class="keywordtype">int</font>)<font class="keyword">
</font>00253 <font class="keyword"></font>{
00254   <font class="keywordflow">if</font> ( currentIndex &lt;= beingIterated.topbound )
00255   {
00256     currentIndex++;
00257     <font class="keywordflow">return</font> ( (<a class="code" href="class_item.html">Item</a>&amp;)( beingIterated.<a class="code" href="class_basearray.html#b0">itemAt</a>( currentIndex - 1 ) ) );
00258     
00259   }
00260   <font class="keywordflow">else</font> 
00261   {
00262     <font class="keywordflow">return</font> NOITEM;
00263   }
00264   
00265 }
00266 
00267 
00268 
00269 
00270 
00271 
00272 
00273 
00274 
00275 
00276 
00277 
00278 
00279 
00280 
00281 
</div></pre><hr><address><small>Generated at Thu Sep 28 15:37:53 2000 for madonna by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=110 height=53></a>1.1.5 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-2000</small></address>
</body>
</html>
