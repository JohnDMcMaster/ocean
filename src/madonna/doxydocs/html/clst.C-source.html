<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>clst.C Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.1.5 on Thu Sep 28 15:37:53 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>clst.C</h1><a href="clst.C.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// ********************************************************</font>
00002 <font class="comment">// *  CLST.C                                              *</font>
00003 <font class="comment">// *                                                      *</font>
00004 <font class="comment">// *  Author : Ireneusz Karkowski 1991                    * </font>
00005 <font class="comment">// *    @(#)clst.C 1.5 11/06/92 Delft University of Technology </font>
00006 <font class="comment">// ********************************************************</font>
00007 
00008 <font class="preprocessor">#include "<a class="code" href="clst.h.html">clst.h</a>"</font>
00009 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00010"></a><a class="code" href="class_clst.html#a2">00010</a>           <a class="code" href="class_clst.html#a0">Clst::Clst</a>(<font class="keywordtype">int</font> gx,<font class="keywordtype">int</font> gy,<font class="keywordtype">int</font> hor,<font class="keywordtype">int</font> ver,<font class="keywordtype">int</font> **stamp,<a class="code" href="class_laymap.html">LayMap</a> &amp;lMap,
00011                        layerType lay,<font class="keywordtype">short</font>* mtx,<font class="keywordtype">int</font> check):
00012                        Cluster(gx,gy,hor,ver,stamp),
00013                                criticalPoints() 
00014 
00015 <font class="comment">//  Constructor : Creates one new cluster with some sectors marked</font>
00016 <font class="comment">//  (if point gx,gy lays in this sector) and with an empty list of critical</font>
00017 <font class="comment">//  points. If gx,gy lays in a critical area then some points are added to this</font>
00018 <font class="comment">//  list.</font>
00019 <font class="comment">//  iMap - image map for this layout </font>
00020 <font class="comment">//  lay  - layer</font>
00021 <font class="comment">//  check - when 1 then create list of potential critical points.</font>
00022 <font class="comment">// </font>
00023 {
00024   <font class="keywordtype">int</font> a,b;
00025 
00026 <font class="comment">//  layerType criLay;</font>
00027 
00028   a=gx % hor;   <font class="comment">// coordinates inside cluster</font>
00029   b=gy % ver;
00030   <font class="keywordflow">if</font> ( a &lt; 0)
00031     a+=hor;
00032   <font class="keywordflow">if</font>(b &lt; 0)
00033     b+=ver;
00034 
00035                 <font class="comment">// first check if it's not a wire on mirror axis (then</font>
00036                 <font class="comment">// Cluster::pattern == 0)</font>
00037   
00038   <font class="keywordflow">if</font> (check &amp;&amp; lay != ViaLayer  &amp;&amp; pattern == 0)  <font class="comment">// metal 1 metal 2 or via between</font>
00039                                          <font class="comment">// them</font>
00040   {
00041     <font class="keywordtype">int</font> net=lMap.<a class="code" href="class_laymap.html#a3">findNetId</a>(gx,gy,lay,mtx);
00042 
00043     <font class="keywordflow">if</font> (net != 0)
00044     {
00045       <a class="code" href="class_cripoint.html">CriPoint</a> *criPtr =  <font class="keyword">new</font> CriPoint( a,b,lay,net);
00046       criticalPoints.add(*criPtr);
00047     }
00048   }
00049 
00050 }<font class="comment">// Clst::Clst  //</font>
00051 
00052 
00053 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00054"></a><a class="code" href="class_clst.html#a8">00054</a>                <a class="code" href="class_clst.html">Clst</a>&amp; <a class="code" href="class_clst.html#a8">Clst::operator |=</a>(<a class="code" href="class_clst.html">Clst</a> &amp;other)
00055 <font class="comment">//</font>
00056 <font class="comment">// performs an "or" operation on patterns and copies critical points from</font>
00057 <font class="comment">// other (only these which are not in  common).</font>
00058 {
00059   pattern|=other.pattern;
00060 
00061   criticalPoints |= other.criticalPoints;
00062 
00063   <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00064 
00065 }<font class="comment">// Clst::operator|=  //</font>
00066 
00067 
00068 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00069"></a><a class="code" href="class_clst.html#a9">00069</a>                <font class="keywordtype">int</font> Clst::operator &amp;(<a class="code" href="class_clst.html">Clst</a> &amp;other)
00070 <font class="comment">//</font>
00071 <font class="comment">// returns true if patterns have common sectors or some conflict</font>
00072 <font class="comment">// critical points exist.</font>
00073 {
00074   <font class="keywordflow">if</font> ( pattern &amp; (clusterMapType)other)
00075     <font class="keywordflow">return</font> 1;
00076   <font class="keywordflow">return</font> criticalPoints &amp; other.criticalPoints;
00077 
00078 }<font class="comment">// Clst::operator&amp;  //</font>
00079 
00080 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00081"></a><a class="code" href="class_clst.html#a5">00081</a>                <font class="keywordtype">void</font>  <a class="code" href="class_clst.html#a5">Clst::print</a>( ostream&amp; o) <font class="keyword">const</font>
00082 <font class="comment">//</font>
00083 <font class="comment">//</font>
00084 {
00085   o &lt;&lt; <font class="stringliteral">"Clst(cX="</font> &lt;&lt; cX &lt;&lt; <font class="stringliteral">",cY="</font> &lt;&lt; cY ;
00086   o &lt;&lt; <font class="stringliteral">",pattern = "</font> &lt;&lt; hex &lt;&lt; pattern &lt;&lt; <font class="stringliteral">" "</font> &lt;&lt; dec;
00087   o &lt;&lt; criticalPoints &lt;&lt; <font class="stringliteral">")"</font>;
00088 
00089 }<font class="comment">// Clst::print  //</font>
00090 
00091 
</div></pre><hr><address><small>Generated at Thu Sep 28 15:37:53 2000 for madonna by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=110 height=53></a>1.1.5 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-2000</small></address>
</body>
</html>
