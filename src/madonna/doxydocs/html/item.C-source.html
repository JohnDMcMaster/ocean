<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>item.C Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.1.5 on Thu Sep 28 15:37:57 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>item.C</h1><a href="item.C.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// ***************************************************************************</font>
00002 <font class="comment">// *    @(#)item.C 1.5 01/06/93 Delft University of Technology </font>
00003 <font class="comment">// ***************************************************************************</font>
00004 
00005 <font class="preprocessor">#ifndef __ITEM_H
</font>00006 <font class="preprocessor"></font><font class="preprocessor">#include &lt;<a class="code" href="item.h.html">item.h</a>&gt;</font>
00007 <font class="preprocessor">#endif
</font>00008 <font class="preprocessor"></font><font class="preprocessor">#ifndef __STDLIB_H
</font>00009 <font class="preprocessor"></font><font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00010 <font class="preprocessor">#endif
</font>00011 <font class="preprocessor"></font>
00012 
00013 <font class="preprocessor">#ifdef USE_MNEW_ALLOCATOR
</font>00014 <font class="preprocessor"></font><font class="preprocessor">#   define EXTRASIZ sizeof(double)
</font>00015 <font class="preprocessor"></font><font class="preprocessor">#   include &lt;sea_decl.h&gt;</font>    <font class="comment">// prototypes mnew() and mfree()</font>
00016 <font class="preprocessor">#endif
</font>00017 <font class="preprocessor"></font>
00018 
00019 
00020 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00021"></a><a class="code" href="class_item.html#a0">00021</a> <a class="code" href="class_item.html#a0">Item::Item</a>()<font class="keyword">
</font>00022 <font class="keyword"></font>{
00023    <font class="keywordtype">int</font> x = 4;
00024 }
00025 
00026 
00027 
00028 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00029"></a><a class="code" href="class_item.html#a2">00029</a> <a class="code" href="class_item.html#a2">Item::~Item</a>()<font class="keyword">
</font>00030 <font class="keyword"></font>{
00031 }
00032 
00033 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00034"></a><a class="code" href="class_item.html#a6">00034</a> <font class="keywordtype">void</font> *Item::operator new( size_t s )<font class="keyword">
</font>00035 <font class="keyword"></font>{
00036 <font class="preprocessor">#ifdef USE_MNEW_ALLOCATOR
</font>00037 <font class="preprocessor"></font>   <font class="keywordtype">void</font> *allc = mnew(EXTRASIZ + s);
00038    <font class="keywordflow">if</font> (allc != 0)
00039    {
00040       *((<font class="keywordtype">int</font> *)allc) = s + EXTRASIZ; <font class="comment">// remember the size of this object</font>
00041       <font class="keywordtype">char</font> *cp = (<font class="keywordtype">char</font> *)allc;
00042       cp += EXTRASIZ;       <font class="comment">// now allc points to the requested object</font>
00043       allc = (<font class="keywordtype">void</font> *)cp;
00044       ((<a class="code" href="class_item.html">Item</a> *)cp)-&gt;Item();
00045    }
00046 <font class="preprocessor">#else
</font>00047 <font class="preprocessor"></font>   <font class="keywordtype">void</font> *allc = ::operator <font class="keyword">new</font>( s );
00048 <font class="preprocessor">#endif
</font>00049 <font class="preprocessor"></font>  <font class="keywordflow">if</font>( allc == 0 )
00050   {
00051     cerr &lt;&lt; <font class="stringliteral">"\n Cannot allocate new object.\n"</font>;
00052     exit(1);    
00053     <font class="keywordflow">return</font> (<font class="keywordtype">void</font> *)NOTHING;
00054   }
00055   <font class="keywordflow">else</font>
00056     <font class="keywordflow">return</font> allc;
00057 }
00058 
00059 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00060"></a><a class="code" href="class_item.html#a7">00060</a> <font class="keywordtype">void</font> Item::operator delete (<font class="keywordtype">void</font>* toFree)<font class="keyword">
</font>00061 <font class="keyword"></font>{
00062 <font class="preprocessor">#ifdef USE_MNEW_ALLOCATOR
</font>00063 <font class="preprocessor"></font>   <font class="keywordtype">char</font> *cp = (<font class="keywordtype">char</font> *)toFree;
00064    cp -= EXTRASIZ;      <font class="comment">// Point to the real start of this thing</font>
00065    <font class="keywordtype">int</font> size = *((<font class="keywordtype">int</font> *)cp); <font class="comment">// Find out what the size of this object is</font>
00066    mfree((<font class="keywordtype">char</font> **)cp,size); <font class="comment">// Release it</font>
00067 <font class="preprocessor">#else
</font>00068 <font class="preprocessor"></font>   ::operator <font class="keyword">delete</font>(toFree);
00069 <font class="preprocessor">#endif
</font>00070 <font class="preprocessor"></font>}
00071 
00072 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00073"></a><a class="code" href="class_dummy.html#a1">00073</a> <a class="code" href="class_dummy.html#a1">Dummy::~Dummy</a>()<font class="keyword">
</font>00074 <font class="keyword"></font>{
00075 }
00076 
00077 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00078"></a><a class="code" href="class_dummy.html#a6">00078</a> <font class="keywordtype">void</font> Dummy::operator delete( <font class="keywordtype">void</font> * )<font class="keyword">
</font>00079 <font class="keyword"></font>{
00080 }
00081 
00082 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00083"></a><a class="code" href="class_dummy.html#a2">00083</a> classType <a class="code" href="class_dummy.html#a2">Dummy::myNo</a>()<font class="keyword"> const
</font>00084 <font class="keyword"></font>{
00085   <font class="keywordflow">return</font> dummyClass; 
00086 }
00087 
00088 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00089"></a><a class="code" href="class_dummy.html#a3">00089</a> <font class="keywordtype">char</font> *<a class="code" href="class_dummy.html#a3">Dummy::myName</a>()<font class="keyword"> const
</font>00090 <font class="keyword"></font>{
00091   <font class="keywordflow">return</font> <font class="stringliteral">"Dummy"</font>;
00092 }
00093 
00094 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00095"></a><a class="code" href="class_dummy.html#a5">00095</a> <font class="keywordtype">void</font> <a class="code" href="class_dummy.html#a5">Dummy::print</a>( ostream&amp; out )<font class="keyword"> const
</font>00096 <font class="keyword"></font>{
00097   out &lt;&lt; <font class="stringliteral">"Dummy\n"</font>;
00098 }
00099 
00100 <font class="comment">//----------------------------------------------------------------------------</font>
<a name="l00101"></a><a class="code" href="class_dummy.html#a4">00101</a> <font class="keywordtype">int</font> <a class="code" href="class_dummy.html#a4">Dummy::isEqual</a> ( <font class="keyword">const</font> <a class="code" href="class_item.html">Item</a>&amp; testItem )<font class="keyword"> const
</font>00102 <font class="keyword"></font>{
00103   <font class="keywordflow">return</font> &amp;testItem == <font class="keyword">this</font>;
00104 }
00105 
<a name="l00106"></a><a class="code" href="item.C.html#a0">00106</a> <a class="code" href="class_dummy.html">Dummy</a>    theDummyItem;
00107 
00108 <a class="code" href="class_item.html">Item</a> *Item::NOTHING = (<a class="code" href="class_item.html">Item</a> *)&amp;theDummyItem;
</div></pre><hr><address><small>Generated at Thu Sep 28 15:37:57 2000 for madonna by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=110 height=53></a>1.1.5 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-2000</small></address>
</body>
</html>
